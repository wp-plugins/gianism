jQuery(document).ready(function($){$(".gianism-wrap h3").each(function(a,t){$(t).attr("id","index_"+a),$("#index ol").append('<li><a href="#index_'+a+'">'+$(t).text()+"</a></li>")});var a=$(".gianism-wrap #index"),t=$(".gianism-wrap"),e=$(window);if(a.length&&t.height()>a.outerHeight(!0)){var n=a.offset().top-parseFloat(a.css("marginTop").replace(/auto/,0)),i=t.offset().top+t.height()-a.outerHeight(!0),s="floating",o="pinned-bottom";e.scroll(function(){var t=e.scrollTop();t>n?(a.addClass(s),t>i?a.removeClass(s).addClass(o):a.removeClass(o)):a.removeClass(s)})}$(".gianism-wrap > pre").length>0&&SyntaxHighlighter.all();var c=function(a,t){var e=$(a).parents("td");e.addClass("loading"),$.ajax({type:"GET",url:Gianism.endpoint,dataType:"json",data:{nonce:Gianism.nonce,action:Gianism.action,target:$(a).attr("id").replace("ga-",""),account_id:$("#ga-account").val(),profile_id:$("#ga-profile").val()},success:function(n){if(e.removeClass("loading"),n.success){var i=$("#"+$(a).attr("data-child"));$.each(n.items,function(a,t){var e=document.createElement("option");$(e).attr("value",t.id).text(t.name),i.append(e)}),t&&t(i)}else window.alert(n.message)}})};$(".ga-profile-select","#ga-connection").change(function(){var a=parseInt($(this).attr("data-clear-target"),10);$("select","#ga-connection").each(function(t,e){t>=a&&$(e).find("option").each(function(a,t){a>0&&$(t).remove()})}),c(this)});var r=$("#ga-account");r.length&&"0"!==r.attr("data-ga-account-id")&&c(r,function(a){a.find("option").each(function(t,e){$(e).attr("value")===a.attr("data-ga-profile-id")&&($(e).prop("selected",!0),a.addClass("success"))}),"0"!==a.attr("data-ga-profile-id")&&c(a,function(a){a.find("option").each(function(t,e){$(e).attr("value")===a.attr("data-ga-view-id")&&($(e).prop("selected",!0),a.addClass("success"))})})});var d=function(){"0"!==$(this).val()?$(this).addClass("success"):$(this).removeClass("success")};$("select","#ga-connection").change(d).each(d),$("#cron-checker").submit(function(a){a.preventDefault();var t=this;$(this).ajaxSubmit({dataType:"json",success:function(a){$(t).find("pre").text(JSON.stringify(a.items,function(a,t){return t},4))}})})});